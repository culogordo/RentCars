<div class="wrappered">
    <div class="page-header text-center">
        <h2>{{car.model}}, {{car.year}}</h2>
    </div>

    <h2 ng-hide="car.orders.length" class="text-center">
        <small>
            There are no orders for "{{car.model}}" car!
        </small>
        <hr>
    </h2>

    <table ng-show="car.orders.length" class="ordersAboutCar">
        <tr>
            <th>From</th>
            <th>To</th>
            <th>Location start</th>
            <th>location finish</th>
        </tr>
        <tr ng-repeat="order in car.orders | orderBy:'-from'">
            <td>{{order.from}}</td>
            <td>{{order.to}}</td>
            <td>{{order.startLocation}}</td>
            <td>{{order.finishLocation}}</td>
        </tr>
    </table>

    <div class="row">
        <form name="addOrderForm" ng-attempt ng-validation="addOrder()" novalidate>
            <div class="col-md-8 col-md-offset-2" ng-date-picker>
                <div class="col-md-12 addCarHeader">
                    <h3>Add a new order for "{{car.model}}" car:</h3>
                </div>

                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': addOrderForm.datetimepicker1.$invalid && (addOrderForm.datetimepicker1.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="datetimepicker1">From</label>
                        <div class="input-group date" id="datetimepicker1">
                            <input type="text" ng-model="from" placeholder="YYYY-MM-DD HH:mm" class="form-control" name="datetimepicker1" required>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                        <span class="help-block" ng-show="addOrderForm.datetimepicker1.$error.required">Required</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.datetimepicker2.$invalid && (addOrderForm.datetimepicker2.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="datetimepicker2">To</label>
                        <div class="input-group date" id="datetimepicker2">
                            <input type="text" ng-model="to" placeholder="YYYY-MM-DD HH:mm" class="form-control" name="datetimepicker2" required>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                        <span class="help-block" ng-show="addOrderForm.datetimepicker2.$error.required">Required</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.startPoint.$invalid && (addOrderForm.startPoint.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="startPoint">Start point</label>
                        <input type="text" ng-model="startLocation" placeholder="Location start" class="form-control" name="startPoint" required>
                        <span class="help-block" ng-show="addOrderForm.startPoint.$error.required">Required</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.endPoint.$invalid && (addOrderForm.endPoint.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="endPoint">End point</label>
                        <input type="text" ng-model="finishLocation" placeholder="Location finish" class="form-control" name="endPoint" required>
                        <span class="help-block" ng-show="addOrderForm.endPoint.$error.required">Required</span>
                    </div>
                    <div class="form-group">
                        <label for="addInfo">Additional information</label>
                        <input type="text" ng-model="addInfo" placeholder="Additional information" class="form-control" name="addInfo">
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group" ng-class="{'has-error': addOrderForm.firstName.$invalid && (addOrderForm.firstName.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="firstName">First name</label>
                        <input minlength="3" maxlength="16" type="text" ng-model="firstName" placeholder="First name" class="form-control" name="firstName" required>
                        <span class="help-block" ng-show="addOrderForm.firstName.$error.required">Required</span>
                        <span class="help-block" ng-show="addOrderForm.firstName.$error.minlength">First name must have 3 characters at least.</span>
                        <span class="help-block" ng-show="addOrderForm.firstName.$error.maxlength">First name might have 16 characters as maximum.</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.lastName.$invalid && (addOrderForm.lastName.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="lastName">Last name</label>
                        <input minlength="3" maxlength="16" type="text" ng-model="lastName" placeholder="Last name" class="form-control" name="lastName" required>
                        <span class="help-block" ng-show="addOrderForm.lastName.$error.required">Required</span>
                        <span class="help-block" ng-show="addOrderForm.lastName.$error.minlength">Last name must have 7 characters at least.</span>
                        <span class="help-block" ng-show="addOrderForm.lastName.$error.maxlength">Last name might have 16 characters as maximum.</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.dateBirth.$invalid && (addOrderForm.dateBirth.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="dateBirth">Date of birth</label>
                        <div class='input-group date' id='datetimepicker3'>
                            <input type="text" ng-model="dateBirth" placeholder="YYYY-MM-DD" class="form-control" name="dateBirth" required>
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </span>
                        </div>
                        <span class="help-block" ng-show="addOrderForm.dateBirth.$error.required">Required</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.docNumber.$invalid && (addOrderForm.docNumber.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="docNumber">Document number</label>
                        <input minlength="7" maxlength="16" type="text" ng-model="docNumber" placeholder="Document number" class="form-control" name="docNumber" required>
                        <span class="help-block" ng-show="addOrderForm.docNumber.$error.required">Required</span>
                        <span class="help-block" ng-show="addOrderForm.docNumber.$error.minlength">Document number must have 7 characters at least.</span>
                        <span class="help-block" ng-show="addOrderForm.docNumber.$error.maxlength">Document number might have 16 characters as maximum.</span>
                    </div>
                    <div class="form-group" ng-class="{'has-error': addOrderForm.phoneNumber.$invalid && (addOrderForm.phoneNumber.$dirty || attempt.addOrderForm.attempted)}">
                        <label for="phoneNumber">Phone number</label>
                        <br>
                        <input type="tel" autocomplete="off" id="aboutCarPhoneNumber" ng-model="phoneNumber" placeholder="Phone number" class="form-control" name="phoneNumber" ng-phone-helper required>
                        <span class="help-block" ng-show="addOrderForm.phoneNumber.$error.required">Required</span>
                    </div>
                </div>
                <div class="col-md-12">
                    <button type="submit" class="btn btn-primary pull-right">Add order</button>
                </div>
            </div>

        </form>
    </div>
</div>
